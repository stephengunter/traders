webpackHotUpdate(9,{

/***/ "./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/vuetify-loader/lib/loader.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/admin/views/Test.vue?vue&type=script&lang=js&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/babel-loader/lib!./node_modules/vuetify-loader/lib/loader.js!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/admin/views/Test.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _store_actions_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../store/actions.type */ \"./src/admin/store/actions.type.js\");\n/* harmony import */ var _common_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/common/jwt */ \"./src/common/jwt.js\");\n/* harmony import */ var _services_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../services/auth */ \"./src/admin/services/auth.js\");\n/* harmony import */ var _services_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/user */ \"./src/admin/services/user.js\");\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'TestView',\n  data: function data() {\n    return {\n      accessToken: '',\n      refreshToken: ''\n    };\n  },\n  beforeMount: function beforeMount() {\n    var users = _services_user__WEBPACK_IMPORTED_MODULE_3__[\"default\"].fetch();\n    users.then(function () {}).catch(function (err) {\n      return console.log(err);\n    });\n  },\n  methods: {\n    test: function test() {\n      alert('test'); //window.setInterval(this.doRefresh(), 3000);\n      // this.$store\n      //    .dispatch(REFRESH_TOKEN)\n      //    .then(result => {\n      //       if(result){\n      //       }else{\n      //       }        \n      //    })\n\n      this.doRefresh();\n    },\n    login: function login() {\n      var result = this.doLogin('traders.com.tw@gmail.com', 'secret');\n      result.then(function () {}).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    doLogin: function doLogin(email, password) {\n      return new Promise(function (resolve) {\n        if (email && password) {\n          _services_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].login({\n            email: email,\n            password: password\n          }).then(function (model) {\n            _common_jwt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].saveToken(model.accessToken.token, model.refreshToken);\n          }).catch(function (err) {\n            console.log(err);\n            resolve(null);\n          });\n        } else {\n          resolve(null);\n        }\n      });\n    },\n    doRefresh: function doRefresh() {\n      var result = this.refresh(_common_jwt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getToken(), _common_jwt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getRefreshToken());\n      result.then(function (result) {}).catch(function (err) {\n        return console.log(err);\n      });\n    },\n    refresh: function refresh(accessToken, refreshToken) {\n      return new Promise(function (resolve) {\n        if (accessToken && refreshToken) {\n          _services_auth__WEBPACK_IMPORTED_MODULE_2__[\"default\"].refreshToken({\n            accessToken: accessToken,\n            refreshToken: refreshToken\n          }).then(function (model) {\n            _common_jwt__WEBPACK_IMPORTED_MODULE_1__[\"default\"].saveToken(model.accessToken.token, model.refreshToken);\n            resolve(true);\n          }).catch(function (err) {\n            resolve(null);\n          });\n        } else {\n          resolve(null);\n        }\n      });\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPyEuL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzL3Z1ZXRpZnktbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9ub2RlX21vZHVsZXMvY2FjaGUtbG9hZGVyL2Rpc3QvY2pzLmpzPyEuL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8hLi9zcmMvYWRtaW4vdmlld3MvVGVzdC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL1Rlc3QudnVlP2YyNDYiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxyXG4gICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcblxyXG5cclxuICAgICAgXHJcbiAgICAgIDxoMT5UZXN0PC9oMT5cclxuPGJ1dHRvbiBAY2xpY2s9XCJsb2dpblwiPmxvZ2luPC9idXR0b24+XHJcbiAgICAgIDxidXR0b24gQGNsaWNrPVwidGVzdFwiPnRlc3Q8L2J1dHRvbj5cclxuICAgPC9kaXY+XHJcbiAgIFxyXG48L3RlbXBsYXRlPlxyXG5cclxuPHNjcmlwdD5cclxuaW1wb3J0IHsgUkVGUkVTSF9UT0tFTiB9IGZyb20gJy4uL3N0b3JlL2FjdGlvbnMudHlwZSc7XHJcblxyXG5pbXBvcnQgSnd0U2VydmljZSBmcm9tICdAL2NvbW1vbi9qd3QnO1xyXG5cclxuaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGgnO1xyXG5cclxuaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3VzZXInO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgIG5hbWU6ICdUZXN0VmlldycsXHJcbiAgIGRhdGEgKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgICBhY2Nlc3NUb2tlbjonJyxcclxuICAgICAgICAgcmVmcmVzaFRva2VuOiAnJ1xyXG4gICAgICB9XHJcbiAgIH0sXHJcbiAgIGJlZm9yZU1vdW50KCl7XHJcbiAgICAgIGxldCB1c2VycyA9IFVzZXJTZXJ2aWNlLmZldGNoKCk7XHJcbiAgICAgIHVzZXJzLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICB9LFxyXG4gICBtZXRob2RzOntcclxuICAgICAgdGVzdCgpe1xyXG4gICAgICAgICBhbGVydCgndGVzdCcpO1xyXG4gICAgICAgICAvL3dpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmRvUmVmcmVzaCgpLCAzMDAwKTtcclxuICAgICAgICAgLy8gdGhpcy4kc3RvcmVcclxuICAgICAgICAgLy8gICAgLmRpc3BhdGNoKFJFRlJFU0hfVE9LRU4pXHJcbiAgICAgICAgIC8vICAgIC50aGVuKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgIC8vICAgICAgIGlmKHJlc3VsdCl7XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgIC8vICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAvLyAgICAgICB9ICAgICAgICBcclxuICAgICAgICAgLy8gICAgfSlcclxuICAgICAgICAgXHJcbiAgICAgICAgIHRoaXMuZG9SZWZyZXNoKCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxvZ2luKCl7XHJcbiAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLmRvTG9naW4oJ3RyYWRlcnMuY29tLnR3QGdtYWlsLmNvbScsJ3NlY3JldCcpO1xyXG4gICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgfSkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgIH0sXHJcbiAgICAgIGRvTG9naW4oZW1haWwsIHBhc3N3b3JkKXtcclxuICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbWFpbCAmJiBwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgQXV0aFNlcnZpY2UubG9naW4oeyBlbWFpbCwgcGFzc3dvcmQgfSlcclxuICAgICAgICAgICAgICAgLnRoZW4obW9kZWwgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgSnd0U2VydmljZS5zYXZlVG9rZW4obW9kZWwuYWNjZXNzVG9rZW4udG9rZW4sbW9kZWwucmVmcmVzaFRva2VuKTtcclxuICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTsgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBkb1JlZnJlc2goKXtcclxuICAgICAgICBcclxuICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmVmcmVzaChKd3RTZXJ2aWNlLmdldFRva2VuKCksIEp3dFNlcnZpY2UuZ2V0UmVmcmVzaFRva2VuKCkpO1xyXG4gICAgICAgICByZXN1bHQudGhlbihyZXN1bHQgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIH0pLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICB9LFxyXG4gICAgICByZWZyZXNoKGFjY2Vzc1Rva2VuLCByZWZyZXNoVG9rZW4pe1xyXG4gICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFjY2Vzc1Rva2VuICYmIHJlZnJlc2hUb2tlbikge1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgQXV0aFNlcnZpY2UucmVmcmVzaFRva2VuKHsgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbiB9KVxyXG4gICAgICAgICAgICAgICAudGhlbihtb2RlbCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIEp3dFNlcnZpY2Uuc2F2ZVRva2VuKG1vZGVsLmFjY2Vzc1Rva2VuLnRva2VuLG1vZGVsLnJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUobnVsbCk7ICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICB9XHJcbn1cclxuPC9zY3JpcHQ+XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5FQTtBQWZBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/cache-loader/dist/cjs.js?!./node_modules/babel-loader/lib/index.js!./node_modules/vuetify-loader/lib/loader.js!./node_modules/cache-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/admin/views/Test.vue?vue&type=script&lang=js&\n");

/***/ })

})