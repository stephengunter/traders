webpackHotUpdate(9,{

/***/ "./src/models/indicator.js":
/*!*********************************!*\
  !*** ./src/models/indicator.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.number.constructor */ \"./node_modules/core-js/modules/es6.number.constructor.js\");\n/* harmony import */ var core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty */ \"./node_modules/@babel/runtime/helpers/esm/defineProperty.js\");\n\n\n\n\n\nvar Indicator =\n/*#__PURE__*/\nfunction () {\n  function Indicator(model, param, beginIndex) {\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(this, Indicator);\n\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"data\", []);\n\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"param\", 0);\n\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"beginTimeIndex\", 0);\n\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"buySignalIndexes\", []);\n\n    Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(this, \"sellSignalIndexes\", []);\n\n    for (var property in model) {\n      this[property] = model[property];\n    }\n\n    if (param) this.param = param;else this.param = this.defaultParam;\n    this.beginTimeIndex = beginIndex;\n  }\n\n  Object(C_Users_Stephen_source_repos_Traders_Web_resources_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(Indicator, [{\n    key: \"calculate\",\n    value: function calculate(quotes) {\n      //this.beginTimeIndex = this.data.findIndex(item => item.time == this.begin);\n      if (this.entity === 'BlueChips' || this.entity === 'Powers') {\n        this.calculatePowers(quotes);\n      } else if (this.entity === 'Prices') {\n        for (var i = 0; i < this.data.length; i++) {\n          var item = this.data[i];\n\n          if (!this.isDataInTime(item)) {\n            item.val = 0;\n            item.avg = 0;\n            item.signal = 0;\n          } else if (this.canCountAvg(i)) {\n            var val = quotes[i].price - item.val;\n            item.val = Math.round(val * 100) / 100;\n            item.avg = this.countAvg(i);\n            item.signal = this.createSignal(i);\n          } else {\n            var _val = quotes[i].price - item.val;\n\n            item.val = Math.round(_val * 100) / 100;\n            item.avg = 0;\n            item.signal = 0;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"calculatePowers\",\n    value: function calculatePowers(quotes) {\n      var sum = 0;\n\n      for (var i = 0; i < this.data.length; i++) {\n        var item = this.data[i];\n        sum += Number(item.val);\n\n        if (!this.isDataInTime(item)) {\n          item.val = 0;\n          item.avg = 0;\n          item.signal = 0;\n        } else if (this.canCountAvg(i)) {\n          item.val = sum;\n          item.avg = this.countAvg(i);\n          item.signal = this.createSignal(i);\n        } else {\n          item.val = sum;\n          item.avg = 0;\n          item.signal = 0;\n        }\n      }\n    }\n  }, {\n    key: \"isDataInTime\",\n    value: function isDataInTime(data) {\n      return data.time > this.begin && data.time <= this.end;\n    }\n  }, {\n    key: \"canCountAvg\",\n    value: function canCountAvg(index) {\n      return index >= this.beginTimeIndex + this.param;\n    }\n  }, {\n    key: \"countAvg\",\n    value: function countAvg(index) {\n      var startIndex = index - this.param + 1;\n      if (startIndex < 0) return 0;\n      var sum = 0;\n\n      for (var i = startIndex; i <= index; i++) {\n        sum += this.data[i].val;\n      }\n\n      return sum == 0 ? 0 : Math.round(sum / this.param * 100) / 100;\n    }\n  }, {\n    key: \"createSignal\",\n    value: function createSignal(index) {\n      var data = this.data[index];\n\n      if (this.entity === 'BlueChips' || this.entity === 'Powers') {\n        if (data.val > data.avg) {\n          this.buySignalIndexes.push(index);\n          return 1;\n        } else if (data.val < data.avg) {\n          this.sellSignalIndexes.push(index);\n          return -1;\n        } else return 0;\n      } else if (this.entity === 'Prices') {\n        if (data.val > data.avg) {\n          this.buySignalIndexes.push(index);\n          return 1;\n        } else if (data.val < data.avg) {\n          this.sellSignalIndexes.push(index);\n          return -1;\n        } else return 0;\n      }\n    }\n  }]);\n\n  return Indicator;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Indicator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbW9kZWxzL2luZGljYXRvci5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9tb2RlbHMvaW5kaWNhdG9yLmpzPzg4ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmNsYXNzIEluZGljYXRvciB7XHJcbiAgIFxyXG4gICBkYXRhID0gW107XHJcbiAgIHBhcmFtID0gMDtcclxuXHJcbiAgIGJlZ2luVGltZUluZGV4ID0gMDtcclxuXHJcbiAgIGJ1eVNpZ25hbEluZGV4ZXMgPSBbXVxyXG4gICBzZWxsU2lnbmFsSW5kZXhlcyA9IFtdO1xyXG5cclxuICAgY29uc3RydWN0b3IobW9kZWwsIHBhcmFtLCBiZWdpbkluZGV4KSB7XHJcbiAgICAgIGZvciAobGV0IHByb3BlcnR5IGluIG1vZGVsKSB7XHJcbiAgICAgICAgIHRoaXNbcHJvcGVydHldID0gbW9kZWxbcHJvcGVydHldO1xyXG4gICAgICB9XHJcbiAgICAgIGlmKHBhcmFtKSAgdGhpcy5wYXJhbSA9IHBhcmFtO1xyXG4gICAgICBlbHNlIHRoaXMucGFyYW0gPSB0aGlzLmRlZmF1bHRQYXJhbTtcclxuXHJcbiAgICAgIHRoaXMuYmVnaW5UaW1lSW5kZXggPSBiZWdpbkluZGV4O1xyXG4gICAgIFxyXG4gICB9XHJcblxyXG4gICBcclxuXHJcbiAgIGNhbGN1bGF0ZShxdW90ZXMpe1xyXG5cclxuICAgICAgLy90aGlzLmJlZ2luVGltZUluZGV4ID0gdGhpcy5kYXRhLmZpbmRJbmRleChpdGVtID0+IGl0ZW0udGltZSA9PSB0aGlzLmJlZ2luKTtcclxuICAgICAgXHJcbiAgICAgIGlmKHRoaXMuZW50aXR5ID09PSAnQmx1ZUNoaXBzJyB8fCB0aGlzLmVudGl0eSA9PT0gJ1Bvd2Vycycpe1xyXG4gICAgICAgICB0aGlzLmNhbGN1bGF0ZVBvd2VycyhxdW90ZXMpO1xyXG4gICAgICB9ZWxzZSBpZih0aGlzLmVudGl0eSA9PT0gJ1ByaWNlcycpe1xyXG4gICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKXtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSB0aGlzLmRhdGFbaV07XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmlzRGF0YUluVGltZShpdGVtKSl7XHJcbiAgICAgICAgICAgICAgIGl0ZW0udmFsID0gMDtcclxuICAgICAgICAgICAgICAgaXRlbS5hdmcgPSAwO1xyXG4gICAgICAgICAgICAgICBpdGVtLnNpZ25hbCA9IDA7ICAgICAgICAgXHJcbiAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuY2FuQ291bnRBdmcoaSkpe1xyXG4gICAgICAgICAgICAgICBsZXQgdmFsID0gcXVvdGVzW2ldLnByaWNlIC0gaXRlbS52YWw7XHJcbiAgICAgICAgICAgICAgIGl0ZW0udmFsID0gTWF0aC5yb3VuZCh2YWwgKiAxMDApIC8gMTAwO1xyXG4gICAgICAgICAgICAgICBpdGVtLmF2ZyA9IHRoaXMuY291bnRBdmcoaSk7XHJcbiAgICAgICAgICAgICAgIGl0ZW0uc2lnbmFsID0gdGhpcy5jcmVhdGVTaWduYWwoaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgbGV0IHZhbCA9IHF1b3Rlc1tpXS5wcmljZSAtIGl0ZW0udmFsO1xyXG4gICAgICAgICAgICAgICBpdGVtLnZhbCA9IE1hdGgucm91bmQodmFsICogMTAwKSAvIDEwMDtcclxuICAgICAgICAgICAgICAgaXRlbS5hdmcgPSAwO1xyXG4gICAgICAgICAgICAgICBpdGVtLnNpZ25hbCA9IDA7ICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBjYWxjdWxhdGVQb3dlcnMocXVvdGVzKXtcclxuICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmRhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICBsZXQgaXRlbSA9IHRoaXMuZGF0YVtpXTtcclxuICAgICAgICAgc3VtICs9IE51bWJlcihpdGVtLnZhbCk7XHJcbiAgICAgICAgIGlmKCF0aGlzLmlzRGF0YUluVGltZShpdGVtKSl7XHJcbiAgICAgICAgICAgIGl0ZW0udmFsID0gMDtcclxuICAgICAgICAgICAgaXRlbS5hdmcgPSAwO1xyXG4gICAgICAgICAgICBpdGVtLnNpZ25hbCA9IDA7ICAgICAgICAgICAgICBcclxuICAgICAgICAgfWVsc2UgaWYodGhpcy5jYW5Db3VudEF2ZyhpKSl7XHJcbiAgICAgICAgICAgIGl0ZW0udmFsID0gc3VtO1xyXG4gICAgICAgICAgICBpdGVtLmF2ZyA9IHRoaXMuY291bnRBdmcoaSk7XHJcbiAgICAgICAgICAgIGl0ZW0uc2lnbmFsID0gdGhpcy5jcmVhdGVTaWduYWwoaSk7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgaXRlbS52YWwgPSBzdW07XHJcbiAgICAgICAgICAgIGl0ZW0uYXZnID0gMDtcclxuICAgICAgICAgICAgaXRlbS5zaWduYWwgPSAwOyAgICBcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIGlzRGF0YUluVGltZShkYXRhKXtcclxuICAgICAgcmV0dXJuIGRhdGEudGltZSA+IHRoaXMuYmVnaW4gJiYgZGF0YS50aW1lIDw9IHRoaXMuZW5kO1xyXG4gICB9XHJcblxyXG4gICBjYW5Db3VudEF2ZyhpbmRleCl7XHJcbiAgICAgIHJldHVybiBpbmRleCA+PSAodGhpcy5iZWdpblRpbWVJbmRleCArIHRoaXMucGFyYW0pO1xyXG4gICB9XHJcblxyXG4gICBjb3VudEF2ZyhpbmRleCl7XHJcbiAgICAgIGxldCBzdGFydEluZGV4ID0gaW5kZXggLSB0aGlzLnBhcmFtICsgMTtcclxuICAgICAgaWYoc3RhcnRJbmRleCA8IDApIHJldHVybiAwO1xyXG5cclxuICAgICAgbGV0IHN1bSA9IDA7XHJcbiAgICAgIGZvcihsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gaW5kZXg7IGkrKyl7XHJcbiAgICAgICAgIHN1bSArPSB0aGlzLmRhdGFbaV0udmFsO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gc3VtID09IDAgPyAwIDogTWF0aC5yb3VuZCgoc3VtIC8gdGhpcy5wYXJhbSkgKiAxMDApIC8gMTAwO1xyXG4gICB9XHJcblxyXG4gICBjcmVhdGVTaWduYWwoaW5kZXgpe1xyXG4gICAgICBsZXQgZGF0YSA9IHRoaXMuZGF0YVtpbmRleF07XHJcbiAgICAgIGlmKHRoaXMuZW50aXR5ID09PSAnQmx1ZUNoaXBzJyB8fCB0aGlzLmVudGl0eSA9PT0gJ1Bvd2Vycycpe1xyXG4gICAgICAgICBpZihkYXRhLnZhbCA+IGRhdGEuYXZnKXtcclxuICAgICAgICAgICAgdGhpcy5idXlTaWduYWxJbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZihkYXRhLnZhbCA8IGRhdGEuYXZnKXtcclxuICAgICAgICAgICAgdGhpcy5zZWxsU2lnbmFsSW5kZXhlcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIHJldHVybiAwO1xyXG4gICAgICB9ZWxzZSBpZih0aGlzLmVudGl0eSA9PT0gJ1ByaWNlcycpe1xyXG4gICAgICAgICBpZihkYXRhLnZhbCA+IGRhdGEuYXZnKXtcclxuICAgICAgICAgICAgdGhpcy5idXlTaWduYWxJbmRleGVzLnB1c2goaW5kZXgpO1xyXG4gICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZihkYXRhLnZhbCA8IGRhdGEuYXZnKXtcclxuICAgICAgICAgICAgdGhpcy5zZWxsU2lnbmFsSW5kZXhlcy5wdXNoKGluZGV4KTtcclxuICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIHJldHVybiAwO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG5cclxuICAgfVxyXG5cclxuICAgXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbmRpY2F0b3I7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBOzs7QUFVQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7OztBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7Ozs7OztBQU1BIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/models/indicator.js\n");

/***/ })

})