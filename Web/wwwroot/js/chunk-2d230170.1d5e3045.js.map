{"version":3,"sources":["webpack:///./src/admin/views/Stocks.vue?f03f","webpack:///src/admin/views/Stocks.vue","webpack:///./src/admin/views/Stocks.vue?4dff","webpack:///./src/admin/views/Stocks.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-xl","fill-height","justify-center","align-center","xs12","row","sm6","md6","on","submit","$event","preventDefault","search","append-icon","label","single-line","hide-details","model","value","params","callback","$$v","$set","expression","staticClass","top","content-class","slot","disabled","canCreate","color","icon","click","create","_v","canRemove","remove","width","deleting","ok","submitDelete","cancel","cancelDelete","persistent","max-width","editting","cancelEdit","_e","wrap","sm12","select-all","headers","items","stocks","hide-actions","item-key","scopedSlots","_u","key","fn","ref","header","_s","text","props","primary","item","name","code","weight","href","edit","id","small","selected","pageList","canPage","staticRenderFns","Stocksvue_type_script_lang_js_","components","material-card","Card","stock-edit","Edit","table-pager","TablePager","Confirm","data","keyword","page","pageSize","sortable","computed","Object","objectSpread","vuex_esm","state","viewList","length","beforeMount","fetchData","methods","$store","commit","mutations_type","dispatch","actions_type","catch","error","Bus","$emit","_this","then","_this2","_this3","ids","map","join","_this4","action","views_Stocksvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","installComponents_default","VBtn","VCardText","VCard","VCheckbox","VContainer","VDataTable","VDialog","VFlex","VIcon","VLayout","VTextField","VTooltip"],"mappings":"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","file":"js/chunk-2d230170.1d5e3045.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.pageList)?_c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xl\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('material-card',[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('v-text-field',{attrs:{\"append-icon\":\"mdi-magnify\",\"label\":\"Search\",\"single-line\":\"\",\"hide-details\":\"\"},model:{value:(_vm.params.keyword),callback:function ($$v) {_vm.$set(_vm.params, \"keyword\", $$v)},expression:\"params.keyword\"}})],1)]),_c('v-flex',{staticClass:\"text-lg-right\",attrs:{\"xs12\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\",\"content-class\":\"top\"}},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"slot\":\"activator\",\"disabled\":!_vm.canCreate,\"color\":\"info\",\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.create($event)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")])],1),_c('span',{staticClass:\"cn\"},[_vm._v(\"新增\")])],1),_c('v-tooltip',{attrs:{\"top\":\"\",\"content-class\":\"top\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"disabled\":!_vm.canRemove,\"color\":\"error\",\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.remove($event)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-delete-circle\")])],1),_c('span',{staticClass:\"cn\"},[_vm._v(\"刪除\")])],1),_c('v-dialog',{attrs:{\"width\":\"480px\"},model:{value:(_vm.deleting),callback:function ($$v) {_vm.deleting=$$v},expression:\"deleting\"}},[_c('Confirm',{on:{\"ok\":_vm.submitDelete,\"cancel\":_vm.cancelDelete}})],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.editting),callback:function ($$v) {_vm.editting=$$v},expression:\"editting\"}},[(_vm.editting)?_c('stock-edit',{attrs:{\"model\":_vm.model},on:{\"submit\":_vm.submit,\"cancel\":_vm.cancelEdit}}):_vm._e()],1)],1)],1),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\"}},[_c('v-flex',{attrs:{\"sm12\":\"\"}},[_c('v-data-table',{attrs:{\"select-all\":\"\",\"headers\":_vm.headers,\"items\":_vm.stocks,\"hide-actions\":\"\",\"item-key\":\"id\"},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(ref){\nvar header = ref.header;\nreturn [_c('span',{staticClass:\"subheading font-weight-light text-success text--darken-3 cn\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+_vm._s(header.text)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])]}},{key:\"items\",fn:function(props){return [_c('td',[_c('v-checkbox',{attrs:{\"primary\":\"\",\"hide-details\":\"\"},model:{value:(props.selected),callback:function ($$v) {_vm.$set(props, \"selected\", $$v)},expression:\"props.selected\"}})],1),_c('td',{staticClass:\"cn\"},[_vm._v(_vm._s(props.item.name)+\"  \"),(props.item.ignore)?_c('v-icon',[_vm._v(\"mdi-cancel\")]):_vm._e()],1),_c('td',[_vm._v(_vm._s(props.item.code))]),_c('td',[_vm._v(_vm._s(props.item.weight))]),_c('td',[_c('v-tooltip',{attrs:{\"top\":\"\",\"content-class\":\"top\"}},[_c('a',{attrs:{\"slot\":\"activator\",\"href\":\"#\",\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();_vm.edit(props.item.id)}},slot:\"activator\"},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"success\"}},[_vm._v(\"mdi-pencil\")])],1),_c('span',{staticClass:\"cn\"},[_vm._v(\"編輯\")])])],1)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)],1),_c('table-pager',{attrs:{\"model\":_vm.pageList,\"canPage\":false}})],1)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<v-container v-if=\"pageList\" fluid grid-list-xl fill-height>\r\n     <v-layout justify-center  align-center>\r\n\t\t\t<v-flex xs12>\r\n\t\t\t\t<material-card>\r\n\t\t\t\t\t<v-card-text >\r\n\t\t\t\t\t\t<v-layout row>\r\n\t\t\t\t\t\t\t<v-flex xs12 sm6 md6>\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\t<form @submit.prevent=\"search\">\r\n\t\t\t\t\t\t\t\t\t<v-text-field\r\n\t\t\t\t\t\t\t\t\t\tv-model=\"params.keyword\"\r\n\t\t\t\t\t\t\t\t\t\tappend-icon=\"mdi-magnify\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Search\"\r\n\t\t\t\t\t\t\t\t\t\tsingle-line\r\n\t\t\t\t\t\t\t\t\t\thide-details\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t\t<v-flex xs12 sm6 md6 class=\"text-lg-right\">\r\n\t\t\t\t\t\t\t\t<v-tooltip top content-class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<v-btn :disabled=\"!canCreate\" @click.prevent=\"create\" class=\"mr-2\" slot=\"activator\"  color=\"info\" icon>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon>mdi-plus-circle</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t<span class=\"cn\">新增</span>\r\n\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t\t<v-tooltip top content-class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<v-btn :disabled=\"!canRemove\"  @click.prevent=\"remove\" slot=\"activator\"  color=\"error\" icon>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon>mdi-delete-circle</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t<span class=\"cn\">刪除</span>\r\n\t\t\t\t\t\t\t\t</v-tooltip>\r\n\r\n\t\t\t\t\t\t\t\t<v-dialog v-model=\"deleting\" width=\"480px\">\r\n\t\t\t\t\t\t\t\t\t<Confirm @ok=\"submitDelete\" @cancel=\"cancelDelete\" />\r\n\t\t\t\t\t\t\t\t</v-dialog>\r\n\t\t\t\t \t\t\t\t<v-dialog v-model=\"editting\" persistent max-width=\"500px\">\r\n\t\t\t\t\t\t\t\t\t<stock-edit v-if=\"editting\" :model=\"model\" \r\n\t\t\t\t\t\t\t\t\t@submit=\"submit\" @cancel=\"cancelEdit\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n      \t\t\t\t\t\t</v-dialog>\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t</v-layout>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-layout row wrap>\r\n\t\t\t\t\t\t\t<v-flex sm12>\r\n\t\t\t\t\t\t\t\t<v-data-table v-model=\"selected\" select-all :headers=\"headers\" \r\n\t\t\t\t\t\t\t\t:items=\"stocks\" hide-actions item-key=\"id\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<template slot=\"headerCell\" slot-scope=\"{ header }\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"subheading font-weight-light text-success text--darken-3 cn\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{ header.text }}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t\t<template slot=\"items\" slot-scope=\"props\">\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-checkbox v-model=\"props.selected\" primary hide-details  />\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t<td class=\"cn\">{{ props.item.name }}  <v-icon v-if=\"props.item.ignore\">mdi-cancel</v-icon></td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ props.item.code }}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>{{ props.item.weight }}</td>\r\n\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t<v-tooltip top  content-class=\"top\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href=\"#\" @click.prevent=\"edit(props.item.id)\"  slot=\"activator\" icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<v-icon small color=\"success\">mdi-pencil</v-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"cn\">編輯</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t\t</v-data-table>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t</v-layout>\r\n\t\t\t\t\t\t<table-pager :model=\"pageList\" :canPage=\"false\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</material-card>\r\n\t\t\t</v-flex>\r\n     </v-layout>\r\n\t</v-container>\r\n    \r\n\t\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport { CLEAR_ERROR, SET_ERROR } from '../store/mutations.type';\r\n\r\nimport { FETCH_STOCKS, CREATE_STOCK, STORE_STOCK,\r\nEDIT_STOCK, UPDATE_STOCK, DELETE_STOCK } from '../store/actions.type';\r\n\r\nimport MaterialCard from '../components/material/Card';\r\nimport TablePager from '../components/TablePager';\r\nimport StockEdit from '../components/stock/Edit';\r\nimport Confirm from '@/components/Confirm';\r\n\r\nexport default {\r\n\tname: 'StocksView',\r\n\tcomponents: {\r\n\t\t'material-card' : MaterialCard,\r\n\t\t'stock-edit' : StockEdit,\r\n\t\t'table-pager' : TablePager,\r\n\t\tConfirm\r\n\t},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tparams: {\r\n\t\t\t\tkeyword: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10\r\n\t\t\t},\r\n\t\t\theaders: [\r\n\t\t\t\t{\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t\ttext: '名稱',\r\n\t\t\t\t\tvalue: 'name'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t\ttext: '代碼',\r\n\t\t\t\t\tvalue: 'code'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t\ttext: '權重 (%)',\r\n\t\t\t\t\tvalue: 'weight'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tsortable: false,\r\n\t\t\t\t\ttext: '',\r\n\t\t\t\t\tvalue: '',\r\n\t\t\t\t\twidth: '50px'\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tselected: [],\r\n\t\t\teditting: false,\r\n\t\t\tdeleting: false,\r\n\t\t\tmodel: null,\r\n\t\t\t\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n      ...mapState({\r\n\t\t\tpageList: state => state.stocks.pageList,\r\n\t\t}),\r\n\t\tstocks(){\r\n\t\t\treturn this.pageList ? this.pageList.viewList : [];\r\n\t\t},\r\n\t\tcanRemove(){\r\n\t\t\tif(this.editting) return false; \r\n\t\t\treturn this.selected.length > 0;\r\n\t\t},\r\n\t\tcanCreate(){\r\n\t\t\treturn !this.editting && !this.deleting;\r\n\t\t}\r\n\t},\r\n\tbeforeMount(){\r\n\t\tthis.fetchData();\r\n\t},\r\n\tmethods: {\r\n\t\tfetchData(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.$store.dispatch(FETCH_STOCKS, this.params)\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tsearch(){\r\n\t\t\tthis.fetchData();\r\n\t\t},\r\n\t\tcreate(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.selected = [];\r\n\t\t\tthis.$store.dispatch(CREATE_STOCK)\r\n\t\t\t\t.then(model => {\r\n\t\t\t\t\tthis.model = model;  \r\n\t\t\t\t\tthis.editting = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t},\r\n\t\tedit(id){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.selected = [];\r\n\t\t\tthis.$store.dispatch(EDIT_STOCK, id)\r\n\t\t\t\t.then(model => {\r\n\t\t\t\t\tthis.model = model;  \r\n\t\t\t\t\tthis.editting = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n      cancelEdit(){\r\n\t\t\tthis.model = null;  \r\n         this.editting = false;\r\n\t\t},\r\n\t\tremove(){\r\n\t\t\tthis.deleting = true;\r\n\t\t},\r\n\t\tsubmitDelete(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tlet ids = this.selected.map(item => item.id);\r\n\t\t\tthis.$store.dispatch(DELETE_STOCK, ids.join(','))\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t\tthis.model = null;  \r\n\t\t\t\t\tthis.deleting = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tcancelDelete(){\r\n\t\t\tthis.deleting = false;\r\n\t\t},\r\n      submit(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tlet action = this.model.id ? UPDATE_STOCK : STORE_STOCK;\r\n         this.$store.dispatch(action, this.model)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t\tBus.$emit('success');\r\n\t\t\t\t\tthis.model = null;  \r\n\t\t\t\t\tthis.editting = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tif(!error)  Bus.$emit('errors');\r\n\t\t\t\t\telse this.$store.commit(SET_ERROR, error);\r\n\t\t\t\t})\r\n      }\r\n\t}\r\n}\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stocks.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Stocks.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Stocks.vue?vue&type=template&id=75811566&\"\nimport script from \"./Stocks.vue?vue&type=script&lang=js&\"\nexport * from \"./Stocks.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Stocks.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VCheckbox } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VDataTable } from 'vuetify/lib'\nimport { VDialog } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VTextField } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCardText,\n  VCheckbox,\n  VContainer,\n  VDataTable,\n  VDialog,\n  VFlex,\n  VIcon,\n  VLayout,\n  VTextField,\n  VTooltip,\n})\n"],"sourceRoot":""}