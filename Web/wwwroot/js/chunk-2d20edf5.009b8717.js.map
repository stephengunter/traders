{"version":3,"sources":["webpack:///./src/client/views/Test.vue?50f8","webpack:///src/client/views/Test.vue","webpack:///./src/client/views/Test.vue?ee88","webpack:///./src/client/views/Test.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","persistent","max-width","model","value","callback","$$v","editting","expression","strategy","selected_indicators","selectedIndicators","indicators","on","submit","cancel","cancelEdit","remove","_e","href","click","$event","preventDefault","editStrategy","_v","staticRenderFns","Testvue_type_script_lang_js_","name","components","strategy-edit","Edit","data","methods","createStrategy","_this","$store","commit","mutations_type","dispatch","actions_type","then","catch","error","Bus","$emit","id","_this2","_this3","indicatorSettings","forEach","item","index","order","action","onSuccess","resolveError","_this4","views_Testvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","__webpack_exports__","installComponents_default","VDialog"],"mappings":"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","file":"js/chunk-2d20edf5.009b8717.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"500px\"},model:{value:(_vm.editting),callback:function ($$v) {_vm.editting=$$v},expression:\"editting\"}},[(_vm.editting)?_c('strategy-edit',{attrs:{\"strategy\":_vm.model.strategy,\"selected_indicators\":_vm.model.selectedIndicators,\"indicators\":_vm.model.indicators},on:{\"submit\":_vm.submit,\"cancel\":_vm.cancelEdit,\"remove\":_vm.remove}}):_vm._e()],1),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.editStrategy(3)}}},[_vm._v(\"Edit\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <div class=\"container\">\r\n\r\n\r\n\r\n      <v-dialog v-model=\"editting\" persistent max-width=\"500px\">\r\n         <strategy-edit v-if=\"editting\" \r\n         :strategy=\"model.strategy\"\r\n         :selected_indicators=\"model.selectedIndicators\"\r\n         :indicators=\"model.indicators\"\r\n         @submit=\"submit\" @cancel=\"cancelEdit\"\r\n         @remove=\"remove\"\r\n         />\r\n      </v-dialog>\r\n      \r\n\r\n      <a href=\"#\" @click.prevent=\"editStrategy(3)\">Edit</a>\r\n      \r\n   </div>\r\n   \r\n</template>\r\n\r\n<script>\r\nimport { CREATE_STRATEGY, STORE_STRATEGY,\r\nEDIT_STRATEGY, UPDATE_STRATEGY, DELETE_STRATEGY } from '../store/actions.type';\r\n\r\nimport { CLEAR_ERROR, SET_ERROR } from '../store/mutations.type';\r\n\r\nimport StrategyEdit from '../components/strategies/Edit';\r\n\r\nexport default {\r\n   name: 'TestView',\r\n   components: {\r\n      'strategy-edit' : StrategyEdit\r\n\t},\r\n   data () {\r\n      return {\r\n         editting: false,\r\n         model: null\r\n      }\r\n   },\r\n   methods:{\r\n      createStrategy(){\r\n         this.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.$store.dispatch(CREATE_STRATEGY)\r\n\t\t\t\t.then(model => {\r\n               this.model = model;\r\n\t\t\t\t\tthis.editting = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n      },\r\n      editStrategy(id){\r\n         this.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.$store.dispatch(EDIT_STRATEGY, id)\r\n\t\t\t\t.then(model => {\r\n               this.model = model;\r\n\t\t\t\t\tthis.editting = true;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\r\n\r\n      },\r\n      submit(selectedIndicators){\r\n         let model = {\r\n            strategy: this.model.strategy,\r\n            selectedIndicators: selectedIndicators\r\n         };\r\n\r\n         model.strategy.indicatorSettings.forEach((item, index) => {\r\n            item.order = index;\r\n         });\r\n\r\n         let action = STORE_STRATEGY;\r\n         if(model.strategy.id){\r\n            action = UPDATE_STRATEGY\r\n         }\r\n\r\n         this.$store.commit(CLEAR_ERROR);\r\n         this.$store\r\n         .dispatch(action, model)\r\n         .then(id => {\r\n            this.onSuccess();              \r\n         })\r\n         .catch(error => {\r\n            if(!error)  Bus.$emit('errors');\r\n            else this.resolveError(error);\r\n         })\r\n      },\r\n      resolveError(error){       \r\n         if(error){\r\n            this.$store.commit(SET_ERROR, error);\r\n         }else{\r\n            Bus.$emit('errors');\r\n         }\r\n      },\r\n      onSuccess(){\r\n         Bus.$emit('success');\r\n         this.model = null;  \r\n         this.editting = false;\r\n      },\r\n      cancelEdit(){\r\n         this.model = null;  \r\n         this.editting = false;\r\n      },\r\n      remove(){\r\n         let id = this.model.strategy.id;\r\n         this.$store.commit(CLEAR_ERROR);\r\n         this.$store\r\n         .dispatch(DELETE_STRATEGY, id)\r\n         .then(() => {\r\n            this.model = null;  \r\n            this.editting = false;             \r\n         })\r\n         .catch(error => {\r\n            if(!error)  Bus.$emit('errors');\r\n            else this.resolveError(error);\r\n         })\r\n      }\r\n   }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Test.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Test.vue?vue&type=template&id=3c118b53&\"\nimport script from \"./Test.vue?vue&type=script&lang=js&\"\nexport * from \"./Test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Test.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDialog } from 'vuetify/lib'\ninstallComponents(component, {\n  VDialog,\n})\n"],"sourceRoot":""}