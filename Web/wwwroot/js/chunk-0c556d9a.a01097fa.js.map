{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./src/admin/views/Indicators.vue?88b3","webpack:///./src/admin/components/indicator/Box.vue?f672","webpack:///src/admin/components/indicator/Box.vue","webpack:///./src/admin/components/indicator/Box.vue?3ae9","webpack:///./src/admin/components/indicator/Box.vue","webpack:///src/admin/views/Indicators.vue","webpack:///./src/admin/views/Indicators.vue?8211","webpack:///./src/admin/views/Indicators.vue"],"names":["pIE","__webpack_require__","createDesc","toIObject","toPrimitive","has","IE8_DOM_DEFINE","gOPD","Object","getOwnPropertyDescriptor","exports","f","O","P","e","call","propertyIsEnumerable","isObject","setPrototypeOf","set","module","that","target","C","S","constructor","prototype","anObject","check","proto","TypeError","test","buggy","Function","Array","__proto__","undefined","render","_vm","this","_h","$createElement","_c","_self","attrs","fluid","grid-list-xl","fill-height","justify-center","align-center","xs12","row","xs6","sm6","md6","items","activeOptions","label","on","change","fetchData","model","value","params","callback","$$v","$set","expression","staticClass","top","content-class","slot","color","icon","click","$event","preventDefault","create","_v","disabled","orderChanged","save","id","wrap","_l","pageList","item","key","itemKey","select","edit","canPage","staticRenderFns","Boxvue_type_template_id_42208e08_render","src","imageUrl","height","align-end","flexbox","_s","name","description","_e","Boxvue_type_template_id_42208e08_staticRenderFns","Boxvue_type_script_lang_js_","props","type","default","data","computed","coverMedia","medias","length","concat","config","previewPath","methods","$emit","indicator_Boxvue_type_script_lang_js_","component","componentNormalizer","options","__file","Box","installComponents_default","VCard","VCardTitle","VContainer","VFlex","VImg","VLayout","Indicatorsvue_type_script_lang_js_","components","material-card","Card","indicator-box","table-pager","TablePager","Confirm","active","viewList","helper","itemKeys","WeakMap","currentItemKey","beforeMount","init","Sortable","document","getElementById","draggable","onEnd","onDragEnd","_this","$store","commit","mutations_type","dispatch","actions_type","then","catch","error","Bus","get","_ref","oldIndex","newIndex","movedItem","splice","_this2","ids","map","join","$router","push","path","cancelEdit","editting","remove","deleting","submitDelete","_this3","selected","DELETE_STOCK","cancelDelete","submit","_this4","action","UPDATE_STOCK","STORE_STOCK","views_Indicatorsvue_type_script_lang_js_","Indicators_component","__webpack_exports__","VBtn","VCardText","components_VCard","VIcon","VSelect","VTooltip"],"mappings":"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","file":"js/chunk-0c556d9a.a01097fa.js","sourcesContent":["var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","exports.f = {}.propertyIsEnumerable;\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\",\"grid-list-xl\":\"\",\"fill-height\":\"\"}},[_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('material-card',[_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"\"}},[_c('v-flex',{attrs:{\"xs6\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.activeOptions,\"label\":\"狀態\"},on:{\"change\":_vm.fetchData},model:{value:(_vm.params.active),callback:function ($$v) {_vm.$set(_vm.params, \"active\", $$v)},expression:\"params.active\"}})],1),_c('v-flex',{staticClass:\"text-lg-right\",attrs:{\"xs6\":\"\",\"sm6\":\"\",\"md6\":\"\"}},[_c('v-tooltip',{attrs:{\"top\":\"\",\"content-class\":\"top\"}},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"slot\":\"activator\",\"color\":\"info\",\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.create($event)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-plus-circle\")])],1),_c('span',{staticClass:\"cn\"},[_vm._v(\"新增\")])],1),_c('v-tooltip',{attrs:{\"top\":\"\",\"content-class\":\"top\"}},[_c('v-btn',{attrs:{\"slot\":\"activator\",\"disabled\":!_vm.orderChanged,\"color\":\"success\",\"icon\":\"\"},on:{\"click\":function($event){$event.preventDefault();return _vm.save($event)}},slot:\"activator\"},[_c('v-icon',[_vm._v(\"mdi-content-save\")])],1),_c('span',{staticClass:\"cn\"},[_vm._v(\"存檔\")])],1)],1)],1),_c('v-layout',{attrs:{\"id\":\"indicatorsList\",\"row\":\"\",\"wrap\":\"\"}},_vm._l((_vm.pageList.viewList),function(item){return _c('v-flex',{key:_vm.itemKey(item),staticClass:\"sortableRow\",attrs:{\"xs12\":\"\"}},[_c('indicator-box',{attrs:{\"model\":item},on:{\"select\":_vm.edit}})],1)}),1),_c('table-pager',{attrs:{\"model\":_vm.pageList,\"canPage\":false}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.model)?_c('v-card',[_c('v-img',{staticClass:\"white--text\",attrs:{\"src\":_vm.imageUrl,\"height\":\"200px\"},on:{\"click\":function($event){$event.preventDefault();return _vm.select($event)}}},[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"fill-height\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"align-end\":\"\",\"flexbox\":\"\"}},[_c('div',{staticClass:\"headline \"},[_c('span',{staticClass:\"cn\"},[_vm._v(_vm._s(_vm.model.name))])])])],1)],1)],1),_c('v-card-title',[_c('div',[_c('span',{staticClass:\"cn\"},[_vm._v(_vm._s(_vm.model.description))])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <v-card v-if=\"model\">\r\n      <v-img @click.prevent=\"select\" :src=\"imageUrl\" class=\"white--text\" height=\"200px\">\r\n         <v-container fill-height fluid>\r\n            <v-layout fill-height>\r\n               <v-flex xs12 align-end flexbox>\r\n                  <div class=\"headline \">\r\n                     <span class=\"cn\">{{ model.name }}</span>\r\n                  </div>\r\n                  \r\n               </v-flex>\r\n            </v-layout>\r\n         </v-container>\r\n      </v-img>\r\n      <v-card-title>\r\n         <div>\r\n            <span class=\"cn\">{{ model.description }}</span>\r\n         </div>\r\n      </v-card-title>\r\n   </v-card>\r\n   \r\n</template>\r\n\r\n<script>\r\n\r\nimport { UPLOAD_URL } from '@/common/config';\r\n\r\nexport default {\r\n   name: 'IndicatorsBox',\r\n   props: {\r\n      model: {\r\n         type: Object,\r\n         default: null\r\n      }\r\n   },\r\n   data () {\r\n      return {\r\n         \r\n      }\r\n   },\r\n   computed:{\r\n      coverMedia(){\r\n         if(!this.model) return null;\r\n         if(!this.model.medias.length) return null;\r\n         return this.model.medias[0];\r\n      },\r\n      imageUrl(){\r\n         if(!this.coverMedia) return '';\r\n         return `${UPLOAD_URL}/${this.coverMedia.previewPath}`;\r\n      }\r\n   },\r\n   methods: {\r\n      select(){\r\n         this.$emit('select', this.model.id);\r\n      }\r\n   }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Box.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Box.vue?vue&type=template&id=42208e08&\"\nimport script from \"./Box.vue?vue&type=script&lang=js&\"\nexport * from \"./Box.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Box.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VCard,\n  VCardTitle,\n  VContainer,\n  VFlex,\n  VImg,\n  VLayout,\n})\n","<template>\r\n\t<v-container fluid grid-list-xl fill-height>\r\n     <v-layout justify-center  align-center>\r\n\t\t\t<v-flex xs12>\r\n\t\t\t\t<material-card>\r\n\t\t\t\t\t<v-card-text >\r\n\t\t\t\t\t\t<v-layout row>\r\n\t\t\t\t\t\t\t<v-flex xs6 sm6 md6>\r\n\t\t\t\t\t\t\t\t<v-select\r\n\t\t\t\t\t\t\t\t\t:items=\"activeOptions\"  label=\"狀態\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"params.active\" @change=\"fetchData\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t\t<v-flex xs6 sm6 md6 class=\"text-lg-right\">\r\n\t\t\t\t\t\t\t\t<v-tooltip top content-class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<v-btn @click.prevent=\"create\" class=\"mr-2\" slot=\"activator\"  color=\"info\" icon>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon>mdi-plus-circle</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t<span class=\"cn\">新增</span>\r\n\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t\t<v-tooltip top content-class=\"top\">\r\n\t\t\t\t\t\t\t\t\t<v-btn :disabled=\"!orderChanged\" @click.prevent=\"save\" slot=\"activator\"  color=\"success\" icon>\r\n\t\t\t\t\t\t\t\t\t\t<v-icon>mdi-content-save</v-icon>\r\n\t\t\t\t\t\t\t\t\t</v-btn>\r\n\t\t\t\t\t\t\t\t\t<span class=\"cn\">存檔</span>\r\n\t\t\t\t\t\t\t\t</v-tooltip>\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t</v-layout>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<v-layout id=\"indicatorsList\" row wrap>\t\r\n\t\t\t\t\t\t\t<v-flex class=\"sortableRow\" xs12 v-for=\"item in pageList.viewList\" :key=\"itemKey(item)\">\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<indicator-box :model=\"item\" @select=\"edit\" />\r\n\t\t\t\t\t\t\t</v-flex>\r\n\t\t\t\t\t\t</v-layout>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<table-pager :model=\"pageList\" :canPage=\"false\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</v-card-text>\r\n\t\t\t\t</material-card>\r\n\t\t\t</v-flex>\r\n     </v-layout>\r\n\t</v-container>\r\n    \r\n\t\r\n</template>\r\n\r\n<script>\r\nimport * as Sortable from 'sortablejs';\r\n\r\nimport { mapState } from 'vuex';\r\nimport { CLEAR_ERROR, SET_ERROR } from '../store/mutations.type';\r\n\r\nimport { FETCH_INDICATORS, ORDER_INDICATORS } from '../store/actions.type';\r\n\r\nimport MaterialCard from '../components/material/Card';\r\nimport TablePager from '../components/TablePager';\r\nimport IndicatorBox from '../components/indicator/Box';\r\nimport Confirm from '@/components/Confirm';\r\nimport Helper from '@/common/helper';\r\n\r\nexport default {\r\n\tname: 'IndicatorsView',\r\n\tcomponents: {\r\n\t\t'material-card' : MaterialCard,\r\n\t\t'indicator-box' : IndicatorBox,\r\n\t\t'table-pager' : TablePager,\r\n\t\tConfirm\r\n\t},\r\n\tdata () {\r\n\t\treturn {\r\n\t\t\tparams: {\r\n\t\t\t\tactive: true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tpageList: {\r\n\t\t\t\tviewList:[]\r\n\t\t\t},\r\n\r\n\t\t\tactiveOptions: Helper.activeOptions(),\r\n\r\n\t\t\titemKeys: new WeakMap(),\r\n\t\t\tcurrentItemKey: 0,\r\n\r\n\t\t\torderChanged: false\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n      \r\n\t},\r\n\tbeforeMount(){\r\n\t\t\r\n\t\tthis.fetchData();\r\n\t},\r\n\tmethods: {\r\n\t\tinit(){\r\n\t\t\tnew Sortable(\r\n\t\t\t\t\tdocument.getElementById('indicatorsList'),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdraggable: '.sortableRow',\r\n\t\t\t\t\t\tonEnd: this.onDragEnd\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t},\r\n\t\tfetchData(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tthis.$store.dispatch(FETCH_INDICATORS, this.params.active)\r\n\t\t\t\t.then(model => {\r\n\t\t\t\t\tthis.pageList = model;\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n\t\titemKey(item){\r\n\t\t\tif (!this.itemKeys.has(item)) this.itemKeys.set(item, ++this.currentItemKey)\r\n\t\t\treturn this.itemKeys.get(item)\r\n\t\t},\r\n\t\tonDragEnd ({ oldIndex, newIndex }) {\r\n\t\t\tconst movedItem = this.pageList.viewList.splice(oldIndex, 1)[0];\r\n\t\t\tthis.pageList.viewList.splice(newIndex, 0, movedItem);\r\n\t\t\t\r\n\t\t\tthis.orderChanged = true;\t\t\t\r\n\t\t},\r\n\t\tsave(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\r\n\t\t\tlet ids = this.pageList.viewList.map(item => item.id);\t\t\t\r\n\t\t\tthis.$store.dispatch(ORDER_INDICATORS, ids.join())\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.orderChanged = false;\t\t\t\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tcreate(){\r\n\t\t\tthis.$router.push({ path: '/indicators/create' });\r\n\t\t},\r\n\t\tedit(id){\r\n\t\t\tlet path = `/indicators/${id}`;\r\n\t\t\tthis.$router.push({ path });\r\n\t\t},\r\n      cancelEdit(){\r\n\t\t\tthis.model = null;  \r\n         this.editting = false;\r\n\t\t},\r\n\t\tremove(){\r\n\t\t\tthis.deleting = true;\r\n\t\t},\r\n\t\tsubmitDelete(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tlet ids = this.selected.map(item => item.id);\r\n\t\t\tthis.$store.dispatch(DELETE_STOCK, ids.join(','))\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t\tthis.model = null;  \r\n\t\t\t\t\tthis.deleting = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tBus.$emit('errors');\r\n\t\t\t\t})\r\n\t\t},\r\n\t\tcancelDelete(){\r\n\t\t\tthis.deleting = false;\r\n\t\t},\r\n      submit(){\r\n\t\t\tthis.$store.commit(CLEAR_ERROR);\r\n\t\t\tlet action = this.model.id ? UPDATE_STOCK : STORE_STOCK;\r\n         this.$store.dispatch(action, this.model)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tthis.fetchData();\r\n\t\t\t\t\tBus.$emit('success');\r\n\t\t\t\t\tthis.model = null;  \r\n\t\t\t\t\tthis.editting = false;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tif(!error)  Bus.$emit('errors');\r\n\t\t\t\t\telse this.$store.commit(SET_ERROR, error);\r\n\t\t\t\t})\r\n      }\r\n\t}\r\n}\r\n</script>\r\n\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Indicators.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Indicators.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Indicators.vue?vue&type=template&id=4ce31369&\"\nimport script from \"./Indicators.vue?vue&type=script&lang=js&\"\nexport * from \"./Indicators.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Indicators.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib'\nimport { VCardText } from 'vuetify/lib'\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VIcon } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\nimport { VSelect } from 'vuetify/lib'\nimport { VTooltip } from 'vuetify/lib'\ninstallComponents(component, {\n  VBtn,\n  VCardText,\n  VContainer,\n  VFlex,\n  VIcon,\n  VLayout,\n  VSelect,\n  VTooltip,\n})\n"],"sourceRoot":""}